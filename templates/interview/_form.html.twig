{{ form_start(form, {'attr': {'class': 'form-horizontal', 'novalidate': 'novalidate', 'id': 'interview-form'}}) }}

<div class="form-group row">
    <div class="col-md-6 mb-3">
        <label for="{{ form.idoffre.vars.id }}" class="col-sm-4 col-form-label">Offre</label>
        <div class="col-sm-10">
            {{ form_widget(form.idoffre, {'attr': {'class': 'form-control'}}) }}
        </div>
        {{ form_errors(form.idoffre, {'attr': {'class': 'text-danger'}}) }}
    </div>
    <div class="col-md-6 mb-3">
        <label for="{{ form.dateinterview.vars.id }}" class="col-sm-4 col-form-label">Date Interview</label>
        <div class="col-sm-10">
            {{ form_widget(form.dateinterview, {'attr': {'class': 'form-control'}}) }}
        </div>
        {{ form_errors(form.dateinterview, {'attr': {'class': 'text-danger'}}) }}
    </div>
</div>

<div class="form-group row">
    <div class="col-md-6 mb-3">
        <label for="{{ form.timeinterview.vars.id }}" class="col-sm-4 col-form-label">Heure de l'Interview</label>
        <div class="col-sm-10">
            {{ form_widget(form.timeinterview, {'attr': {'class': 'form-control'}}) }}
        </div>
        {{ form_errors(form.timeinterview, {'attr': {'class': 'text-danger'}}) }}
    </div>
    <div class="col-md-6 mb-3">
        <label for="{{ form.typeinterview.vars.id }}" class="col-sm-4 col-form-label">Type d'Interview</label>
        <div class="col-sm-10">
            {{ form_widget(form.typeinterview, {
                'attr': {
                    'class': 'form-control',
                    'onchange': 'toggleLocationField(this)'
                }
            }) }}
        </div>
        {{ form_errors(form.typeinterview, {'attr': {'class': 'text-danger'}}) }}
    </div>
</div>

<div class="form-group mb-3" id="location-field" style="display: none;">
    <label for="{{ form.localisation.vars.id }}" class="col-sm-4 col-form-label">Lieu</label>
    <div class="col-sm-10">
        {{ form_widget(form.localisation, {'attr': {'class': 'form-control'}}) }}
    </div>
</div>

<div class="form-group text-right mt-4">
    <button type="submit" class="btn btn-primary">
        {{ button_label|default('Enregistrer') }}
    </button>
    <a href="{{ path('app_interview_index') }}" class="btn btn-secondary ml-2">
        Annuler
    </a>
</div>

{{ form_end(form) }}

<script>
// Fonction pour afficher/masquer le champ localisation
function toggleLocationField(select) {
    const locationField = document.getElementById('location-field');
    if (select.value === 'ENLIGNE') {
        locationField.style.display = 'none';
    } else if (select.value === 'ENPERSONNE') {
        locationField.style.display = 'block';
    }
}

// Initialisation au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    const typeSelect = document.querySelector('#{{ form.typeinterview.vars.id }}');
    if (typeSelect) {
        // Déclenche l'événement pour mettre à jour l'état initial
        toggleLocationField(typeSelect);
    }
});
</script>